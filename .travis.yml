sudo: false
language: node_js
node_js: 8

cache:
  directories:
    - node_modules

script:
  - npm test
  - rm -rf .travis-tmp
  - mkdir .travis-tmp
  - cd .travis-tmp
  - node ../test/util/install-app-4.js
  - npm install
  - npm run build:demo:aot
  - npm test
  - cd ..
  - rm -rf .travis-tmp

after_success: cat ./coverage/lcov.info | ./node_modules/.bin/coveralls
